> 이 포스팅은 이고잉님의 생활코딩 강의와 노마드코더 클론코딩 강의를 기반으로 재구성하였습니다.

## Event



event란 어떤 행동이 트리거가 되어서 상태 변화가 일어나는 것을 말한다. 예를 들어 마우스를 올리거나 클릭하고, wifi가 연결되거나 해제되는 일 같은 것을 말한다. 우리가 원하는 걸 하기 위해서 이러한 event를 listen하는 것을 알아보자.



만약, click 했을 때 색이 파란색으로 바뀌게 하고 싶다면 다음과 같이 해주면 된다.(HTML 코드는 생략)



```javascript
const title = document.querySelector("div.hello:first-child h1");

function handleTitleClick(){
    title.style.color = "blue";
}

title.addEventListener("click", handleTitleClick);
```



위 예제를 보면, 우선 title이라는 변수에 원하는 element를 가져와 주고 실행시키고 싶은 함수를 정의해 준다. 그런 다음, `addEventListener`을  통해 `click`이라는 event를 명시해 준다. 그리고 두 번째 argument(인자)에 정의해준 함수를 호출시킨다.



여기서 주의할 점은 보통 함수를 실행시킬 때 `()`를 붙여주는 것은 즉시 실행을 의미한다. 하지만 여기서는 event가 발생했을 때 JavaScript가 실행시키도록 하는 것이므로 `()`는 생략해야 한다.



원하는 태그의 event들이 무엇이 있는지(예를 들면 click)는 검색을 통해 알아보는 것이 좋다.

- 예시) h1 event elements mdn 으로 검색, Web APIs가 포함된 문서 찾기
- `console.dir`을 통해 찾아보고 `on`으로 시작하는 것들의 뒷 부분이 event 이다. 예시) onclick => click이 event



이벤트를 가져오는 방식은 아래와 같이 적어줄 수도 있다.

```javascript
title.onclick = handleTitleClick;
title.onmouseenter = handleMouseEnter;
title.onmouseleave = handleMOuseLeave;
```



그러나 나중에 event를 지우거나 할 때에는 처음 했던 방식이 조금 더 편리하다.



요약하자면,

- element를 찾아라
- event를 listen해라
- event에 반응해라



### if와 else를 추가하여 클릭할 때마다 색이 바뀌도록 하기

```javascript
const h1 = document.querySelector("div.hello:first-child h1");

function handleTitleClick() {
    const currentColor = h1.style.color;
    let newColor;
    
    if(currentColor === "blue") {
		newColor = "yellow";
    } else{
        newColor = "blue";
    }
    h1.style.color = newColor;
}
h1.addEventListener("click", handleTitleClick);
```



이와 같은 방식으로 style을 바꿔줄 수 있게 되었다.



그러나, 대부분의 경우 style은 CSS가 변경하는 것이 옳다. 자바스크립트는 상호작용에 쓰이는 것이 적절하다. 즉 JavaScript가 직접적으로 style을 변경하는 것은 좋지 않다는 것이다. `CSS와 JS가 모두 HTML을 바라보게 하는 것`이 이상적이다.



```css
/* CSS 파일 */
body {
    background-color: beige;
}

h1 {
    color: cornflowerblue;
}

.active {
    color: tomato;
}
```

```javascript
// JS 파일 //
const h1 = document.querySelector("div.hello:first-child h1");

function handleTitleClick() {
    const clickedClass = "active";
    
    if (h1.className === clickedClass) {
        h1.className = "";
    } else {
        h1.className = clickedClass;
    }
}

h1.addEventListener("click", handleTitleClick);
```



### classList와 toggle



위 코드에서도 문제가 있을 수 있다. 예를 들면 `<h1>`태그가 다른 class를 여러 개를 갖고 있을 때 이를 모두 삭제시키고 active class만 남게 만들어 버린다. 내가 원하는 다른 어떠한 class는 유지가 되도록 하고 선택적으로 변경하고 싶다면 `className`보다는 `classList`를 이용한다.



```javascript
const h1 = document.querySelector("div.hello:first-child h1");

function handleTitleClick() {
    const clickedClass = "active";
    
    if (h1.classList.contains(clickedClass)) { // contains으로 true나 false를 반환시킨다
        h1.classList.remove(clickedClass); // remove로 제거
    } else {
        h1.classList.add(clickedClass); // add로 추가
    }
}

h1.addEventListener("click", handleTitleClick);
```



이렇게 잘 구현을 해 주었는데, 이 기능을 `toggle`이 전부 해결해 준다! `toggle`은 어떤 class가 포함되어 있는지 확인하고 있으면 제거, 없으면 추가해 주는 기능을 한다.



```javascript
const h1 = document.querySelector("div.hello:first-child h1");

function handleTitleClick() {
    h1.classList.toggle("active");
}

h1.addEventListener("click", handleTitleClick);
```

